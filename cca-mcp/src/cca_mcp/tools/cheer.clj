(ns cca-mcp.tools.cheer
  (:require [clojure.java.shell :as shell]))

;; 応援メッセージのデータ（全部まとめてランダム選択）
(def cheer-messages
  [;; 基本応援
   "うをおぉぉぉぉぉぉおおおっ！！！"
   "頑張れ！君ならできる！"
   "その調子！その調子！"
   
   ;; フィジーク風基本
   "ナイスコーディング！いい感じ！いい感じ！"
   "コード筋肉、バルクアップしてるねぇ！"
   "その関数、カットが出てるよ〜！"
   "アルゴリズム、キレッキレじゃないか！"
   "プログラム筋、パンプしてるぞ！"
   "ナイスビルド！完璧なフォーム！"
   "デバッグ力、ハンパないって！"
   "そのリファクタリング、ストイックだねぇ！"
   "コミット筋、バキバキじゃないか！"
   "ナイス絞り！（コードの）"
   "その集中力、プロテイン何杯分？"
   "コーディング界のフィジーカー！"
   "ナイスポージング！（コードの構造が）"
   "デベロッパーとして、いい身体してるよ〜！"
   "そのプログラム、血管浮いてるぞ！"
   
   ;; テスト成功系
   "テスト通過！君が優勝だ〜！"
   "グリーンライト！ナイスフィニッシュ！"
   "オールパス！フィジークチャンピオン級！"
   "テストスイート完走！スタミナ抜群！"
   "バグゼロ！カットがキレッキレ〜！"
   "CI/CD成功！その身体、完璧じゃないか！"
   "ユニットテスト全勝！君のフォーム、最高！"
   "リグレッションなし！絞り具合がハンパない！"
   "エラー撲滅！筋肉の神様降臨！"
   "コードカバレッジ100%！完璧なプロポーション！"
   "テスト駆動開発マスター！君こそ真のフィジーカー！"
   "デバッグ完了！その血管美、芸術品レベル！"
   
   ;; 時間帯系
   "おはよう！今日も一日頑張ろう！"
   "朝から絶好調！"
   "ナイスモーニングコード！その調子！"
   "朝のプログラムビルドアップ！いけいけー！"
   "午後も集中力アップ！"
   "昼下がりのパワーチャージ！"
   "アフタヌーンコードリング！バルクアップ！"
   "夜も頑張る君は素晴らしい！"
   "イブニングプッシュ！コード筋肉にキく〜！"
   "ナイトデベロッパー！その血管浮いてるぞ！"
   "深夜作業お疲れ様！"
   "ミッドナイトコーダー！ストイックだねぇ！"
   "オールナイトビルド！スタミナあるぞ！"
   
   ;; 高エネルギー系
   "超絶パワーアップ！君は最強だ！"
   "究極の応援エネルギー全開！"
   "無敵モード発動！"
   "チャンピオンコーダー！！優勝だ優勝！"
   "デベロッパーオブザイヤー！君だ君！"])

;; シンプルなランダム選択
(defn select-random-cheer []
  (rand-nth cheer-messages))

(defn cheer [request]
  (let [cheerText (select-random-cheer)]
    (when (= "Mac OS X" (System/getProperty "os.name"))
      (shell/sh "say" cheerText))
    {:content [{:type "text"
                :text cheerText}]}))

(cheer {:params {:message "hogehoge"}})